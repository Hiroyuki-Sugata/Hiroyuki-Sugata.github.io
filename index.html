<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<title>"位置情報×地図で情報見える化"</title>
<meta name="description" content="避難所マップ">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/leaflet@1.7.1/dist/leaflet.css" />
</head>
<body>
  <h1>【やりたかった事】データを見える化し価値に変える</h1>
  <h2>  ●ソフトウェアに興味を持ったきっかけ<br>　<a href="https://www.toyota.co.jp/jpn/auto/passable_route/map/">:TOYOTA 通れた道マップ</a> (:DCMから車両情報集約)<br></h2>

  <h2><font color="blue">  ⇒データは可視化で価値に変えられる</font> (展開・拡張性あり)</h2>  
  <h2>  【価値の構造】<br>　step1_データ集約→<font color="blue">可視化 (：今回検討)</font>　  step2_データ解析→最適行動の指示<br></h2>
  <h2>_______________________________________________________________________________________________________________________________________</h2>
  <h2><br></h2>

  <h2>【可視化の練習】自治体オープンデータを使ったスポットの見える化<br> </h2>
  <h3>  　　　　　　                例：自治体HPに施設のcsvあり(避難所マップ、お祭り時に困るトイレマップ、おむつ替え場所マップ等作成できる)<br></h3>
  
  <h4>【トライ：避難所マップ@愛知県みよし市】</h4>
  <h5>講義内容の活用：変数/配列/forループ/メソッド</h5>
  
  <div id="map0" style="height: 800px;"></div>
  
  
  
  <script src="https://cdn.jsdelivr.net/npm/leaflet@1.7.1/dist/leaflet.js"></script>
  <script>
  const center0 = [35.085939, 137.07349];
  const map0 = L.map('map0').setView(center0, 14);
  L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
  attribution: 'Map data &copy; <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors',
  maxZoom: 18,
  }).addTo(map0);
  
  
  
      const stationLatLng0 =[
        [35.085939,137.07349,"中部小学校","愛知県みよし市三好町宮ノ越31"],
        [35.109686,137.096221,"北部小学校","愛知県みよし市根浦町三丁目9-47"],
        [35.070488,137.088934,"南部小学校","愛知県みよし市明知町上細口27"],
        [35.090166,137.085586,"天王小学校","愛知県みよし市三好町天王51-75"],
        [35.08182,137.063211,"三吉小学校","愛知県みよし市三好町半野木1-27"],
        [35.120355,137.112425,"三好丘小学校","愛知県みよし市三好丘七丁目1"],
        [35.110992,137.116633,"緑丘小学校","愛知県みよし市三好丘緑一丁目1-1"],
        [35.110992,137.116633,"緑丘小学校","愛知県みよし市三好丘緑一丁目1-1"],
        [35.130195,137.09624,"黒笹小学校","愛知県みよし市黒笹いずみ三丁目26-1"],
        [35.130195,137.09624,"黒笹小学校","愛知県みよし市黒笹いずみ三丁目26-1"],
        [35.086475,137.071163,"三好中学校","愛知県みよし市三好町宮ノ越42"],
        [35.086475,137.071163,"三好中学校","愛知県みよし市三好町宮ノ越42"],
        [35.112831,137.107809,"北中学校","愛知県みよし市三好丘桜一丁目1-1"],
        [35.112831,137.107809,"北中学校","愛知県みよし市三好丘桜一丁目1-1"],
        [35.076665,137.089395,"南中学校","愛知県みよし市打越町三百目3"],
        [35.076665,137.089395,"南中学校","愛知県みよし市打越町三百目3"],
        [35.126707,137.117499,"三好丘中学校","愛知県みよし市三好丘二丁目14-10"],
        [35.126707,137.117499,"三好丘中学校","愛知県みよし市三好丘二丁目14-10"],
        [35.0914,137.088818,"三好公園総合体育館","愛知県みよし市三好町池ノ原1"],
        [35.0914,137.088818,"三好公園総合体育館","愛知県みよし市三好町池ノ原1"],
        [35.081864,137.080481,"文化センターサンアート","愛知県みよし市三好町大慈山1-1"],
        [35.081864,137.080481,"文化センターサンアート","愛知県みよし市三好町大慈山1-1"],
        [35.083294,137.08715,"県立三好高校","愛知県みよし市三好町東山110-1"],
        [35.083294,137.08715,"県立三好高校","愛知県みよし市三好町東山110-1"],
        [35.083073,137.102454,"県立三好特別支援学校","愛知県みよし市打越町山ノ神1-2"],
        [35.130068,137.110647,"三好老人保健施設","愛知県みよし市福谷町下り松42-1"],
        [35.070135,137.091267,"南部地区コミュニティ広場","愛知県みよし市打越町九蔵釜74"],
        [35.126381,137.091324,"黒笹公民館","愛知県みよし市黒笹一丁目8-8"],
        [35.126434,137.098103,"黒笹保育園","愛知県みよし市福谷町西大山1-31"],
        [35.126779,137.093001,"黒笹老人憩いの家","愛知県みよし市黒笹一丁目10-4"],
        [35.128929,137.107143,"三好丘あおばふれあいセンター","愛知県みよし市三好丘あおば一丁目22-6"],
        [35.123981,137.121272,"三好丘旭集会所","愛知県みよし市三好丘旭二丁目14-2"],
        [35.119986,137.114522,"三好丘集会所","愛知県みよし市三好丘七丁目11-1"],
        [35.116792,137.115188,"ひばりヶ丘集会所ひばりヶ丘ふれあいセンター","愛知県みよし市ひばりヶ丘二丁目6-12"],
        [35.109627,137.114998,"三好丘緑集会所","愛知県みよし市三好丘緑三丁目8-22"],
        [35.108626,137.116788,"高嶺公民館","愛知県みよし市三好丘緑四丁目11-5"],
        [35.114289,137.117202,"みどり保育園","愛知県みよし市三好丘桜四丁目11-1"],
        [35.113761,137.110844,"三好丘桜集会所","愛知県みよし市三好丘桜三丁目4-5"],
        [35.113955,137.103698,"福谷区民会館","愛知県みよし市福谷町寺ノ前22"],
        [35.114317,137.105517,"福谷児童館","愛知県みよし市福谷町仲田21-3"],
        [35.114312,137.101846,"福谷老人憩いの家","愛知県みよし市福谷町蔵屋敷1"],
        [35.113686,137.100256,"城山保育園","愛知県みよし市福谷町市場61-2"],
        [35.113984,137.106558,"福谷住宅集会所","愛知県みよし市福谷町あみだ堂7"],
        [35.102001,137.100543,"莇生公民館","愛知県みよし市莇生町小金下3-1"],
        [35.101912,137.10036,"莇生老人憩いの家","愛知県みよし市莇生町小金下3-1"],
        [35.101392,137.099848,"莇生児童館","愛知県みよし市莇生町小金下2-1"],
        [35.101856,137.09834,"莇生保育園","愛知県みよし市莇生町仲田48-1"],
        [35.094191,137.109859,"高嶺児童館2","愛知県みよし市打越町新池浦63-1"],
        [35.095312,137.073648,"平池集会所平池会館サンピース","愛知県みよし市三好町平池19"],
        [35.092377,137.085742,"新屋児童館","愛知県みよし市三好町池ノ原1-21"],
        [35.092734,137.085669,"新屋老人憩いの家","愛知県みよし市三好町池ノ原1-21"],
        [35.090074,137.084972,"天王保育園","愛知県みよし市三好町天王51-20"],
        [35.091927,137.099925,"東山老人憩いの家","愛知県みよし市三好町東山45-1"],
        [35.088705,137.080488,"東山住宅集会所","愛知県みよし市三好町東山4-43"],
        [35.084408,137.082656,"東山児童館","愛知県みよし市三好町弥栄31-3"],
        [35.080375,137.08811,"東山集会所「サンヴィッツ宝栄」","愛知県みよし市明知町宝栄108-4"],
        [35.080015,137.082294,"上ヶ池集会所「上ヶ池会館サンフレンド」","愛知県みよし市三好町上ヶ池26-19"],
        [35.091281,137.074913,"中島住宅集会所","愛知県みよし市三好町中島26"],
        [35.092427,137.072122,"わかば保育園","愛知県みよし市三好町大坪54"],
        [35.091616,137.071485,"三好上公民館","愛知県みよし市三好町大坪12"],
        [35.088363,137.070463,"三好上児童館","愛知県みよし市三好町上103"],
        [35.084494,137.079023,"蜂ヶ池児童館","愛知県みよし市三好町蜂ヶ池29-12"],
        [35.087663,137.075112,"福祉センター","愛知県みよし市三好町陣取山39-5"],
        [35.08751,137.07651,"子育て総合支援センター","愛知県みよし市西陣取山130"],
        [35.085675,137.07261,"中部老人憩いの家","愛知県みよし市三好町宮ノ越30-1"],
        [35.083797,137.068502,"三好下公民館","愛知県みよし市園原二丁目1-2"],
        [35.085194,137.067559,"三好下児童館","愛知県みよし市三好町八和田50-2"],
        [35.083419,137.068065,"三好下老人憩いの家","愛知県みよし市園原二丁目1-1"],
        [35.086869,137.068716,"すみれ保育園","愛知県みよし市三好町八和田108"],
        [35.087128,137.058646,"西一色児童館","愛知県みよし市西一色町池ノ内17"],
        [35.086907,137.058842,"西一色老人憩いの家","愛知県みよし市西一色町〆林14"],
        [35.087577,137.058701,"西一色集会所「西一色ふれあい会館」","愛知県みよし市西一色町池ノ内17-2"],
        [35.08072,137.054592,"なかよし保育園","愛知県みよし市西一色町二ノ沢8-2"],
        [35.078881,137.0934,"打越保育園","愛知県みよし市打越町畦違311"],
        [35.075478,137.093997,"山伏住宅集会所,愛知県みよし市打越町山伏33-1"],
        [35.073943,137.097594,"打越公民館,愛知県みよし市打越町前田30"],
        [35.073952,137.09741,"打越老人憩いの家","愛知県みよし市打越町前田27-1"],
        [35.07361,137.09755,"打越児童館","愛知県みよし市打越町前田27-1"],
        [35.071393,137.081554,"明知上公民館","愛知県みよし市明知町東谷61"],
        [35.07099,137.081723,"明知上児童館","愛知県みよし市明知町東谷10"],
        [35.07124,137.082807,"明知上老人憩いの家","愛知県みよし市明知町東谷30"],
        [35.064738,137.084318,"明知保育園","愛知県みよし市明知町細口浦41"],
        [35.061066,137.078468,"明知下公民館","愛知県みよし市明知町下屋敷6-1"],
        [35.060767,137.079207,"明知下児童館","愛知県みよし市明知町下屋敷17"],
        [35.060714,137.079524,"明知下老人憩いの家","愛知県みよし市明知町下屋敷16-3"],
        [35.072294,137.051023,"福田老人憩いの家","愛知県みよし市福田町東屋敷91-2"],
        [35.071979,137.050893,"福田児童館","愛知県みよし市福田町東屋敷84"],
  
  
  ];
    for (const latLng0 of stationLatLng0) {
      const stationMarker0 = L.marker([latLng0[0], latLng0[1]]).addTo(map0);
      stationMarker0.bindPopup("避難所<br>" + latLng0[2] + "<br>"+ latLng0[3]);
    }
    </script>


  

    
<h2>【可視化の練習】：スマホ写真の位置情報を使ったマッピング<br>
<h3>  　　　　　　                例：棚卸し資産・故障設備・構内の危険個所の見える化(一目で分かる、探さなくて良い)<br></h3>
  
  <h4>【トライ：位置情報と写真の表示】</h4>
  <h5>講義内容の活用：変数/配列/if文/メソッド</h5>  




<div id="map2" style="height: 800px;"></div>

<script src="https://cdn.jsdelivr.net/npm/leaflet@1.7.1/dist/leaflet.js"></script>
<script>
const center2 = [35.05230120775251, 137.1603757695971];
const map2 = L.map('map2').setView(center2, 18);
L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
attribution: 'Map data &copy; <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors',
maxZoom: 40,
}).addTo(map2);




const stationLatLng2 =[[35.05230120775251, 137.1603757695971, "IMG_0077.JPG"]
];
for (const latLng2 of stationLatLng2) {
if (latLng2.length === 4) {
const stationMarker2 = L.marker([latLng2[0], latLng2[1]]).addTo(map2);
stationMarker2.bindPopup("避難所<br>" + latLng2[2] + "<br>"+ latLng2[3]);
} else if (latLng2.length === 3) {
const photoMarker = L.marker([latLng2[0], latLng2[1]]).addTo(map2);
photoMarker.bindPopup(`<img src="${latLng2[2]}">`);
const imageUrl = latLng2[2];
const imageBounds = [[latLng2[0], latLng2[1]], [latLng2[0]+0.000000000001, latLng2[1]+0.000000000001]];
const imageOverlay = L.imageOverlay(imageUrl, imageBounds).addTo(map2);
}
}
</script>
</body>
</html>
 




  <h2>【検討①】：(農業)熟練のカンコツ作業をデータ集約&可視化で効率化できないか？
    <h3>  燃料製造<br>　<a href="https://global.toyota/jp/newsroom/corporate/37543249.html">→作物からエタノール燃料@福島</a><br></h3>
    <h4>例：土壌中の養分濃度・環境条件・生育状態をセンシングし、閾値別で可視化</h4> 
    <h5>講義内容の活用：変数/配列/forループ/メソッド</h5>  
    
    <!DOCTYPE html>
    <html>
    <head>
      <meta charset="utf-8">
      <title>Map with colored markers</title>
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <link rel="stylesheet" href="https://cdn.rawgit.com/openlayers/openlayers.github.io/master/en/v5.3.0/css/ol.css" type="text/css">
      <script src="https://cdn.rawgit.com/openlayers/openlayers.github.io/master/en/v5.3.0/build/ol.js"></script>
    </head>
    <body>
      <div id="map" class="map"></div>
      <script>
        // 地図を表示するための変数を宣言
        let map = new ol.Map({
          target: 'map',
          layers: [
            new ol.layer.Tile({
              source: new ol.source.OSM()
            })
          ],
          view: new ol.View({
            center: ol.proj.fromLonLat([137.164739, 35.060819]),
            zoom: 17
          })
        });
        
        let data = [
    [137.1653, 35.0620, 20],  
    [137.1652, 35.0620, 20],  
    [137.1651, 35.0620, 20],     
    [137.1650, 35.0620, 20],  
    [137.1649, 35.0620, 20],      
    [137.1648, 35.0620, 20],        
    [137.1647, 35.0620, 20],
    [137.1646, 35.0620, 20],
    [137.1645, 35.0620, 20],
    [137.1644, 35.0620, 20],
    [137.1643, 35.0620, 20],
    [137.1648, 35.0620, 20],
    
    [137.1653, 35.0619, 20],  
    [137.1652, 35.0619, 20],  
    [137.1651, 35.0619, 20],     
    [137.1650, 35.0619, 20],  
    [137.1649, 35.0619, 20],      
    [137.1648, 35.0619, 20],        
    [137.1647, 35.0619, 20],
    [137.1646, 35.0619, 20],
    [137.1645, 35.0619, 20],
    [137.1644, 35.0619, 20],
    [137.1643, 35.0619, 20],
    [137.1648, 35.0619, 20],
    
    [137.1653, 35.0618, 20],  
    [137.1652, 35.0618, 20],  
    [137.1651, 35.0618, 20],     
    [137.1650, 35.0618, 20],  
    [137.1649, 35.0618, 20],      
    [137.1648, 35.0618, 20],        
    [137.1647, 35.0618, 20],
    [137.1646, 35.0618, 20],
    [137.1645, 35.0618, 20],
    [137.1644, 35.0618, 20],
    [137.1643, 35.0618, 20],
    [137.1648, 35.0618, 20],
    
    [137.1653, 35.0617, 20],  
    [137.1652, 35.0617, 20],  
    [137.1651, 35.0617, 20],     
    [137.1650, 35.0617, 20],  
    [137.1649, 35.0617, 20],      
    [137.1648, 35.0617, 20],        
    [137.1647, 35.0617, 20],
    [137.1646, 35.0617, 20],
    [137.1645, 35.0617, 20],
    [137.1644, 35.0617, 20],
    [137.1643, 35.0617, 20],
    [137.1648, 35.0617, 20],
    
    [137.1653, 35.0616, 20],  
    [137.1652, 35.0616, 20],  
    [137.1651, 35.0616, 20],     
    [137.1650, 35.0616, 20],  
    [137.1649, 35.0616, 20],      
    [137.1648, 35.0616, 20],        
    [137.1647, 35.0616, 20],
    [137.1646, 35.0616, 20],
    [137.1645, 35.0616, 20],
    [137.1644, 35.0616, 20],
    [137.1643, 35.0616, 20],
    [137.1648, 35.0616, 20],
    
    
    [137.1653, 35.0615, 20],  
    [137.1652, 35.0615, 20],  
    [137.1651, 35.0615, 20],     
    [137.1650, 35.0615, 20],  
    [137.1649, 35.0615, 20],      
    [137.1648, 35.0615, 20],        
    [137.1647, 35.0615, 20],
    [137.1646, 35.0615, 20],
    [137.1645, 35.0615, 20],
    [137.1644, 35.0615, 20],
    [137.1643, 35.0615, 20],
    [137.1648, 35.0615, 20],
    
    
    [137.1653, 35.0614, 20],  
    [137.1652, 35.0614, 20],  
    [137.1651, 35.0614, 20],     
    [137.1650, 35.0614, 20],  
    [137.1649, 35.0614, 20],      
    [137.1648, 35.0614, 20],        
    [137.1647, 35.0614, 20],
    [137.1646, 35.0614, 20],
    [137.1645, 35.0614, 20],
    [137.1644, 35.0614, 20],
    [137.1643, 35.0614, 20],
    [137.1648, 35.0614, 20],
    
    
    [137.1653, 35.0613, 11],  
    [137.1652, 35.0613, 11],  
    [137.1651, 35.0613, 11],     
    [137.1650, 35.0613, 11],  
    [137.1649, 35.0613, 11],      
    [137.1648, 35.0613, 11],        
    [137.1647, 35.0613, 11],
    [137.1646, 35.0613, 11],
    [137.1645, 35.0613, 11],
    [137.1644, 35.0613, 11],
    [137.1643, 35.0613, 11],
    [137.1648, 35.0613, 11],
    
    [137.1653, 35.0612, 11],  
    [137.1652, 35.0612, 11],  
    [137.1651, 35.0612, 11],     
    [137.1650, 35.0612, 11],  
    [137.1649, 35.0612, 11],      
    [137.1648, 35.0612, 11],        
    [137.1647, 35.0612, 11],
    [137.1646, 35.0612, 11],
    [137.1645, 35.0612, 11],
    [137.1644, 35.0612, 11],
    [137.1643, 35.0612, 11],
    [137.1648, 35.0612, 11],
    
    [137.1653, 35.0612, 11],  
    [137.1652, 35.0612, 11],  
    [137.1651, 35.0612, 11],     
    [137.1650, 35.0612, 11],  
    [137.1649, 35.0612, 11],      
    [137.1648, 35.0612, 11],        
    [137.1647, 35.0612, 11],
    [137.1646, 35.0612, 11],
    [137.1645, 35.0612, 11],
    [137.1644, 35.0612, 11],
    [137.1643, 35.0612, 11],
    [137.1648, 35.0612, 11],
    
    [137.1653, 35.0611, 11],  
    [137.1652, 35.0611, 11],  
    [137.1651, 35.0611, 11],     
    [137.1650, 35.0611, 11],  
    [137.1649, 35.0611, 11],      
    [137.1648, 35.0611, 11],        
    [137.1647, 35.0611, 11],
    [137.1646, 35.0611, 11],
    [137.1645, 35.0611, 11],
    [137.1644, 35.0611, 11],
    [137.1643, 35.0611, 11],
    [137.1648, 35.0611, 11],
    
    [137.1653, 35.0610, 11],  
    [137.1652, 35.0610, 11],  
    [137.1651, 35.0610, 11],     
    [137.1650, 35.0610, 11],  
    [137.1649, 35.0610, 11],      
    [137.1648, 35.0610, 11],        
    [137.1647, 35.0610, 11],
    [137.1646, 35.0610, 11],
    [137.1645, 35.0610, 11],
    [137.1644, 35.0610, 11],
    [137.1643, 35.0610, 11],
    [137.1648, 35.0610, 11],
    
    
    [137.1653, 35.0609, 11],  
    [137.1652, 35.0609, 11],  
    [137.1651, 35.0609, 11],     
    [137.1650, 35.0609, 11],  
    [137.1649, 35.0609, 11],      
    [137.1648, 35.0609, 11],        
    [137.1647, 35.0609, 11],
    [137.1646, 35.0609, 11],
    [137.1645, 35.0609, 11],
    [137.1644, 35.0609, 11],
    [137.1643, 35.0609, 11],
    [137.1648, 35.0609, 11],
    
    
    [137.1653, 35.0608, 11],  
    [137.1652, 35.0608, 11],  
    [137.1651, 35.0608, 11],     
    [137.1650, 35.0608, 11],  
    [137.1649, 35.0608, 11],      
    [137.1648, 35.0608, 11],        
    [137.1647, 35.0608, 11],
    [137.1646, 35.0608, 11],
    [137.1645, 35.0608, 11],
    [137.1644, 35.0608, 11],
    [137.1643, 35.0608, 11],
    [137.1648, 35.0608, 11],
    
    
    
    [137.1653, 35.0607, 1],  
    [137.1652, 35.0607, 1],  
    [137.1651, 35.0607, 1],     
    [137.1650, 35.0607, 1],  
    [137.1649, 35.0607, 1],      
    [137.1648, 35.0607, 1],        
    [137.1647, 35.0607, 1],
    [137.1646, 35.0607, 1],
    [137.1645, 35.0607, 1],
    [137.1644, 35.0607, 1],
    [137.1643, 35.0607, 1],
    [137.1648, 35.0607, 1],
    
    [137.1653, 35.0606, 1],  
    [137.1652, 35.0606, 1],  
    [137.1651, 35.0606, 1],     
    [137.1650, 35.0606, 1],  
    [137.1649, 35.0606, 1],      
    [137.1648, 35.0606, 1],        
    [137.1647, 35.0606, 1],
    [137.1646, 35.0606, 1],
    [137.1645, 35.0606, 1],
    [137.1644, 35.0606, 1],
    [137.1643, 35.0606, 1],
    [137.1648, 35.0606, 1],
    
    [137.1653, 35.0605, 1],  
    [137.1652, 35.0605, 1],  
    [137.1651, 35.0605, 1],     
    [137.1650, 35.0605, 1],  
    [137.1649, 35.0605, 1],      
    [137.1648, 35.0605, 1],        
    [137.1647, 35.0605, 1],
    [137.1646, 35.0605, 1],
    [137.1645, 35.0605, 1],
    [137.1644, 35.0605, 1],
    [137.1643, 35.0605, 1],
    [137.1648, 35.0605, 1],
    
    [137.1653, 35.0604, 1],  
    [137.1652, 35.0604, 1],  
    [137.1651, 35.0604, 1],     
    [137.1650, 35.0604, 1],  
    [137.1649, 35.0604, 1],      
    [137.1648, 35.0604, 1],        
    [137.1647, 35.0604, 1],
    [137.1646, 35.0604, 1],
    [137.1645, 35.0604, 1],
    [137.1644, 35.0604, 1],
    [137.1643, 35.0604, 1],
    [137.1648, 35.0604, 1],
    
    [137.1653, 35.0603, 1],  
    [137.1652, 35.0603, 1],  
    [137.1651, 35.0603, 1],     
    [137.1650, 35.0603, 1],  
    [137.1649, 35.0603, 1],      
    [137.1648, 35.0603, 1],        
    [137.1647, 35.0603, 1],
    [137.1646, 35.0603, 1],
    [137.1645, 35.0603, 1],
    [137.1644, 35.0603, 1],
    [137.1643, 35.0603, 1],
    [137.1648, 35.0603, 1],
    
    
    [137.1653, 35.0602, 1],  
    [137.1652, 35.0602, 1],  
    [137.1651, 35.0602, 1],     
    [137.1650, 35.0602, 1],  
    [137.1649, 35.0602, 1],      
    [137.1648, 35.0602, 1],        
    [137.1647, 35.0602, 1],
    [137.1646, 35.0602, 1],
    [137.1645, 35.0602, 1],
    [137.1644, 35.0602, 1],
    [137.1643, 35.0602, 1],
    [137.1648, 35.0602, 1],
    
    
    [137.1653, 35.0601, 1],  
    [137.1652, 35.0601, 1],  
    [137.1651, 35.0601, 1],     
    [137.1650, 35.0601, 1],  
    [137.1649, 35.0601, 1],      
    [137.1648, 35.0601, 1],        
    [137.1647, 35.0601, 1],
    [137.1646, 35.0601, 1],
    [137.1645, 35.0601, 1],
    [137.1644, 35.0601, 1],
    [137.1643, 35.0601, 1],
    [137.1648, 35.0601, 1],
    ];
    
    // マーカーを表示するための変数を宣言
    let markers = new ol.layer.Vector({
    source: new ol.source.Vector({
    features: []
    }),
    style: function(feature) {
    // weightという属性からマーカーの色を決定する
    let weight = feature.get('weight');
    let color;
    if (weight > 15) {
    color = [255, 0, 0];
    } else if (weight > 10) {
    color = [255, 255, 255];
    } else {
    color = [0, 255, 0];
    }
    return new ol.style.Style({
    image: new ol.style.Circle({
    radius: 3,
    fill: new ol.style.Fill({
    color: color
    }),
    stroke: new ol.style.Stroke({
    color: [0, 0, 0],
    width: 1
    })
    })
    });
    }
    });
    
    // データをもとにマーカーを作成し、地図に追加
    for (let i = 0; i < data.length; i++) {
    let feature = new ol.Feature({
    geometry: new ol.geom.Point(ol.proj.fromLonLat([data[i][0], data[i][1]])),
    weight: data[i][2]
    });
    markers.getSource().addFeature(feature);
    }
    
    // マーカーを地図に追加
    map.addLayer(markers);
      </script>
    </body>
    </html>    
 


